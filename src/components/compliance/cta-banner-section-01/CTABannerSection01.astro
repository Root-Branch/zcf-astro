---
import Button from "../../common/Button.astro";
import { convertToWebP } from "../../../utils/imageConvert";

const { title, description, image, cta_button } = Astro.props;
---

<section class="py-xs md:py-md">
  <div class="container mx-auto px-8 max-w-[1210px]">
    <div class="flex flex-col lg:flex-row items-center gap-8 lg:gap-0">
      {/* Image */}
      <div class="w-[80%] lg:w-1/2 flex justify-center lg:justify-start">
        <img loading="lazy" 
          src={convertToWebP(image.filename)}
          alt={image.alt}
          class="max-w-[450px] w-full h-auto"
        />
      </div>

      {/* Content */}
      <div class="w-full lg:w-1/2 text-center lg:text-left">
        <h2 class="ds-p-1 !font-bold mb-4">{title}</h2>
        <p class="ds-p-2 mb-16">{description}</p>
        
        {cta_button?.[0] && (
          <Button
            text={cta_button[0].text}
            link={cta_button[0].link}
            style={cta_button[0].style}
            background_color={cta_button[0].background_color}
            text_color={cta_button[0].text_color}
          />
        )}
      </div>
    </div>
  </div>
</section>