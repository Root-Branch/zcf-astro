---
import { convertToWebP } from "../../../utils/imageConvert";

const { logos, section_title, padding_top, padding_bottom, mobile_padding_top, mobile_padding_bottom } = Astro.props;

const padding_top_class = padding_top ? `lg:pt-${padding_top}` : "";
const padding_bottom_class = padding_bottom ? `lg:pb-${padding_bottom}` : "";
const mobile_padding_top_class = mobile_padding_top ? `pt-${mobile_padding_top}` : "";
const mobile_padding_bottom_class = mobile_padding_bottom ? `pb-${mobile_padding_bottom}` : "";

// Double the logos array to create a repeating pattern
const repeatedLogos = [...logos, ...logos, ...logos, ...logos];
---

<section class={`${padding_top_class} ${padding_bottom_class} ${mobile_padding_top_class} ${mobile_padding_bottom_class}`}>
  <div class="overflow-hidden">
    <h2 class="ds-h3 text-center mb-16 max-w-[1105px] px-6 mx-auto">{section_title}</h2>
    <div class="flex justify-center gap-[6rem] -ml-[480px]">
      {repeatedLogos.map((logo) => (
        <div class="flex-shrink-0">
          <img
            src={convertToWebP(logo.filename)}
            alt={logo.alt || "Partner logo"}
            class="h-20 md:h-[123px] w-auto"
          />
        </div>
      ))}
    </div>
  </div>
</section>
